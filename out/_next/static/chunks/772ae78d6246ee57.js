(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67585,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let i=e.r(32061);function r({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new i.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,s)=>{"use strict";function i(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"encodeURIPath",{enumerable:!0,get:function(){return i}})},52157,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadChunks",{enumerable:!0,get:function(){return c}});let i=e.r(43476),r=e.r(74080),o=e.r(63599),n=e.r(9885),l=e.r(43369);function c({moduleIds:e}){if("u">typeof window)return null;let t=o.workAsyncStorage.getStore();if(void 0===t)return null;let s=[];if(t.reactLoadableManifest&&e){let i=t.reactLoadableManifest;for(let t of e){if(!i[t])continue;let e=i[t].files;s.push(...e)}}if(0===s.length)return null;let c=(0,l.getDeploymentIdQueryOrEmptyString)();return(0,i.jsx)(i.Fragment,{children:s.map(e=>{let s=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}${c}`;return e.endsWith(".css")?(0,i.jsx)("link",{precedence:"dynamic",href:s,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,r.preload)(s,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},99707,(e,t,s)=>{var i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function r(e,t){if(!i[e]){i[e]={};for(var s=0;s<e.length;s++)i[e][e.charAt(s)]=s}return i[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var s=o._compress(e,6,function(e){return t.charAt(e)});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,function(s){return r(t,e.charAt(s))})},compressToUTF16:function(t){return null==t?"":o._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=o.compress(e),s=new Uint8Array(2*t.length),i=0,r=t.length;i<r;i++){var n=t.charCodeAt(i);s[2*i]=n>>>8,s[2*i+1]=n%256}return s},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var s=Array(t.length/2),i=0,r=s.length;i<r;i++)s[i]=256*t[2*i]+t[2*i+1];var n=[];return s.forEach(function(t){n.push(e(t))}),o.decompress(n.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,function(e){return s.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,function(t){return r(s,e.charAt(t))}))},compress:function(t){return o._compress(t,16,function(t){return e(t)})},_compress:function(e,t,s){if(null==e)return"";var i,r,o,n={},l={},c="",a="",u="",h=2,_=3,d=2,p=[],f=0,m=0;for(o=0;o<e.length;o+=1)if(c=e.charAt(o),Object.prototype.hasOwnProperty.call(n,c)||(n[c]=_++,l[c]=!0),a=u+c,Object.prototype.hasOwnProperty.call(n,a))u=a;else{if(Object.prototype.hasOwnProperty.call(l,u)){if(256>u.charCodeAt(0)){for(i=0;i<d;i++)f<<=1,m==t-1?(m=0,p.push(s(f)),f=0):m++;for(i=0,r=u.charCodeAt(0);i<8;i++)f=f<<1|1&r,m==t-1?(m=0,p.push(s(f)),f=0):m++,r>>=1}else{for(i=0,r=1;i<d;i++)f=f<<1|r,m==t-1?(m=0,p.push(s(f)),f=0):m++,r=0;for(i=0,r=u.charCodeAt(0);i<16;i++)f=f<<1|1&r,m==t-1?(m=0,p.push(s(f)),f=0):m++,r>>=1}0==--h&&(h=Math.pow(2,d),d++),delete l[u]}else for(i=0,r=n[u];i<d;i++)f=f<<1|1&r,m==t-1?(m=0,p.push(s(f)),f=0):m++,r>>=1;0==--h&&(h=Math.pow(2,d),d++),n[a]=_++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(l,u)){if(256>u.charCodeAt(0)){for(i=0;i<d;i++)f<<=1,m==t-1?(m=0,p.push(s(f)),f=0):m++;for(i=0,r=u.charCodeAt(0);i<8;i++)f=f<<1|1&r,m==t-1?(m=0,p.push(s(f)),f=0):m++,r>>=1}else{for(i=0,r=1;i<d;i++)f=f<<1|r,m==t-1?(m=0,p.push(s(f)),f=0):m++,r=0;for(i=0,r=u.charCodeAt(0);i<16;i++)f=f<<1|1&r,m==t-1?(m=0,p.push(s(f)),f=0):m++,r>>=1}0==--h&&(h=Math.pow(2,d),d++),delete l[u]}else for(i=0,r=n[u];i<d;i++)f=f<<1|1&r,m==t-1?(m=0,p.push(s(f)),f=0):m++,r>>=1;0==--h&&(h=Math.pow(2,d),d++)}for(i=0,r=2;i<d;i++)f=f<<1|1&r,m==t-1?(m=0,p.push(s(f)),f=0):m++,r>>=1;for(;;){if(f<<=1,m==t-1){p.push(s(f));break}m++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,s,i){var r,o,n,l,c,a,u,h=[],_=4,d=4,p=3,f="",m=[],g={val:i(0),position:s,index:1};for(r=0;r<3;r+=1)h[r]=r;for(n=0,c=4,a=1;a!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=i(g.index++)),n|=(l>0)*a,a<<=1;switch(n){case 0:for(n=0,c=256,a=1;a!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=i(g.index++)),n|=(l>0)*a,a<<=1;u=e(n);break;case 1:for(n=0,c=65536,a=1;a!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=i(g.index++)),n|=(l>0)*a,a<<=1;u=e(n);break;case 2:return""}for(h[3]=u,o=u,m.push(u);;){if(g.index>t)return"";for(n=0,c=Math.pow(2,p),a=1;a!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=i(g.index++)),n|=(l>0)*a,a<<=1;switch(u=n){case 0:for(n=0,c=256,a=1;a!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=i(g.index++)),n|=(l>0)*a,a<<=1;h[d++]=e(n),u=d-1,_--;break;case 1:for(n=0,c=65536,a=1;a!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=s,g.val=i(g.index++)),n|=(l>0)*a,a<<=1;h[d++]=e(n),u=d-1,_--;break;case 2:return m.join("")}if(0==_&&(_=Math.pow(2,p),p++),h[u])f=h[u];else{if(u!==d)return null;f=o+o.charAt(0)}m.push(f),h[d++]=o+f.charAt(0),_--,o=f,0==_&&(_=Math.pow(2,p),p++)}}};return o}();if("function"==typeof define&&define.amd)e.r,void 0!==i&&e.v(i);else null!=t?t.exports=i:"u">typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",function(){return i})},18566,(e,t,s)=>{t.exports=e.r(76562)},31729,e=>{"use strict";let t;var s,i,r,o,n,l=e.i(43476);let c=((s={}).Slices="slices",s.ActiveSlice="activeSlice",s.Message="message",s),a="slice-simulator",u="slice-simulator--root",h=e=>{let t=document.querySelector(`.${a} [data-slice-zone]`);if(t)return t.children.length!==e&&console.warn(`Flagged SliceZone has an unexpected number of children, found ${t.children.length} but expected ${e}. This might lead to unexpected behaviors. Are you sure you tagged the right element?`),t;if(!(t=document.querySelector(`.${a} .${u}`)))return null;for(let s=0;s<5;s++)if(t.children.length===e)return t;else if(t.children.length)t=t.children[0];else break;return null},_=()=>[],d=(e,t=16)=>{let s=0,i=null;return function(...r){let o=Date.now(),n=o-s;n>=t?(e.apply(this,r),s=o):(i&&clearTimeout(i),i=setTimeout(()=>{e.apply(this,r),s=Date.now()},t-n))}};var p=class{_listeners={};on(e,t,s=null){this._listeners[e]=[...this._listeners[e]??[],[t,s]]}off(e,t){this._listeners[e]=(this._listeners[e]??[]).filter(([e,s])=>"function"==typeof t?e!==t:s!==t)}emit(e,t){(this._listeners[e]??[]).forEach(e=>e[0](t))}},f=class extends p{_slices;set slices(e){this._slices=e,this.message="",this.emit(c.Slices,e)}get slices(){return this._slices}_activeSlice;set activeSlice(e){this._activeSlice=e,this.emit(c.ActiveSlice,e)}get activeSlice(){return this._activeSlice}_message;set message(e){this._message=e,this.emit(c.Message,e)}get message(){return this._message}_mouse;constructor(e){super(),this._slices=(null==e?void 0:e.slices)||_(),this._activeSlice=null,this._message="",this._mouse={x:0,y:0}}async init(){window.addEventListener("mousemove",e=>{this._mouse={x:e.clientX,y:e.clientY}})}_setActiveSlice=()=>{if(0===this.slices.length){this.activeSlice=null;return}let e=h(this.slices.length);if(!e){this.activeSlice=null;return}let t=((e,t)=>{let s=document.elementsFromPoint(t.x,t.y).reverse(),i=s.indexOf(e);if(-1===i)return null;let r=s[i+1];return r||null})(e,this._mouse);if(!t){this.activeSlice=null;return}let s=Array.prototype.indexOf.call(e.children,t);this.activeSlice={rect:t.getBoundingClientRect(),sliceID:this.slices[s].slice_type,variationID:this.slices[s].variation,index:s}};setActiveSlice=d(this._setActiveSlice,16);setSliceZone(e){this.slices=e}};let m=(e,t)=>`<a href="${e}" style="text-decoration: underline;">${t||e}<a>`,g=(t=`   _____ ___          _____ _                 __      __            
  / ___// (_)_______ / ___/(_)___ ___  __  __/ /___ _/ /_____  _____
  \\__ \\/ / / ___/ _ \\\\__ \\/ / __ \`__ \\/ / / / / __ \`/ __/ __ \\/ ___/
 ___/ / / / /__/  __/__/ / / / / / / / /_/ / / /_/ / /_/ /_/ / /    
/____/_/_/\\___/\\___/____/_/_/ /_/ /_/\\__,_/_/\\__,_/\\__/\\____/_/     
                  / /_  __  __   / __ \\_____(_)________ ___  (_)____
                 / __ \\/ / / /  / /_/ / ___/ / ___/ __ \`__ \\/ / ___/
                / /_/ / /_/ /  / ____/ /  / (__  ) / / / / / / /__  
               /_.___/\\__, /  /_/   /_/  /_/____/_/ /_/ /_/_/\\___/  
                     /____/

You're seeing this page because you're accessing Slice simulator
directly, e.g:

  - ${m("http://localhost:3000/slice-simulator")}



The Slice simulator can only be accessed through Slice Machine or the
Page Builder. To preview your Slices, head over to Slice Machine:

  - ${m("http://localhost:9999")}



If you believe this is an error, please reach out to us:

  - ${m("https://github.com/prismicio/slice-machine/issues/new/choose")}





                                                - The Prismic team`,`<div style="word-spacing: initial; white-space: pre; line-height: initial; font-family: monospace; color: #ffffff; mix-blend-mode: difference; padding: 1rem; font-size: 1rem;">${t}</div>`),v=((i={}).SetActiveSlice="setActiveSlice",i.SetSliceZoneSize="setSliceZoneSize",i),y=((r={}).Ping="ping",r.SetSliceZone="setSliceZone",r.ScrollToSlice="scrollToSlice",r);var w=class extends Error{response;constructor(e){super(e.msg),this.response=e}},S=class extends Error{request;constructor(e){super("Too many concurrent requests"),this.request=e}},b=class extends Error{request;constructor(e){super(`Request \`${e.requestID}\` timed out`),this.request=e}},q=class extends Error{},I=class extends Error{constructor(){super("Port is not set")}};let x={200:"ok",201:"created",400:"bad request",500:"internal server error",501:"not implemented"},R=0,A=(e,t,s=200)=>{if(s>=400)throw TypeError(`Invalid success status code, expected status to be within \`[100;400[\`, got \`${s}\``);return{requestID:e,status:s,msg:x[s]??"",data:t}},P=(e,t,s=400)=>{if(s<400)throw TypeError(`Invalid error status code, expected status to be within \`[400;600[\`, got \`${s}\``);return{requestID:e,status:s,msg:x[s]??"",error:t}},T=e=>{if("object"!=typeof e||null===e)throw TypeError(`Invalid message received, expected message to be of type \`object\`, got \`${typeof e}\``);if(Object.keys(e).every(e=>["requestID","type","data","status","msg","error"].includes(e))){if("string"!=typeof e.requestID)throw TypeError(`Invalid message received, expected \`message.requestID\` to be of type \`string\`, got \`${typeof e.id}\``)}else throw TypeError(`Invalid message received: ${JSON.stringify(e)}`);return e},D={debug:!1,maximumRequestConcurrency:20,defaultTimeout:5e3,requestIDPrefix:"channel-"};var M=class{requestHandlers;options;_port=null;get port(){if(!this._port)throw new I;return this._port}set port(e){this._port&&(this._port.onmessage=null),this._port=e,this._port&&(this._port.onmessage=this.onMessage.bind(this))}_pendingRequests=new Map;constructor(e,t){this.requestHandlers=e,this.options={...D,...t}}createRequestMessage(e,t){return((e,t,s="")=>({requestID:`${s}${R++}`,type:e,data:t}))(e,t,this.options.requestIDPrefix)}async onMessage(e){this.options.debug&&console.debug(e.data);try{let t=T(e.data);if("type"in t)if(this.requestHandlers[t.type])try{let e=await this.requestHandlers[t.type](t,{success:A.bind(this,t.requestID),error:P.bind(this,t.requestID)});this.postResponse(e)}catch(e){this.postResponse(P(t.requestID,e,500))}else this.postResponse(P(t.requestID,void 0,501));else this._pendingRequests.has(t.requestID)?(this._pendingRequests.get(t.requestID)(t),this._pendingRequests.delete(t.requestID)):console.error(`Unknown request ID received in response: ${JSON.stringify(t)}`)}catch(e){if(e instanceof TypeError)console.warn(e.message);else throw e}}postRequest(e,t=e=>this.port.postMessage(e),s={}){if(this.options.debug&&console.debug(e),this._pendingRequests.size>=this.options.maximumRequestConcurrency)throw new S(e);return new Promise((i,r)=>{let o=setTimeout(()=>{this._pendingRequests.has(e.requestID)&&this._pendingRequests.delete(e.requestID),r(new b(e))},s.timeout||this.options.defaultTimeout);this._pendingRequests.set(e.requestID,e=>{let t;clearTimeout(o),"type"in(t=e)||"error"in t?r(new w(e)):i(e)}),t(e)})}postResponse(e,t=e=>this.port.postMessage(e)){return this.options.debug&&console.debug(e),t(e),e}};let E=((o={}).Connect="connect",o),C=((n={}).Ready="ready",n),O={readyTimeout:2e4,requestIDPrefix:"receiver-"};var j=class extends M{_ready=!1;constructor(e,t){super(e,{...O,...t}),window.addEventListener("message",e=>{this._onPublicMessage(e)})}async ready(){if(window.parent===window)throw Error("Receiver is currently not embedded as an iframe");this._ready=!1;let e=this.createRequestMessage(C.Ready,void 0),t=await this.postRequest(e,e=>{window.parent.postMessage(e,"*")},{timeout:this.options.readyTimeout});return this._ready=!0,t}_onPublicMessage(e){try{let t=T(e.data);if("type"in t)if(this.options.debug&&console.debug(e.data),t.type===E.Connect){this.port=e.ports[0];let{data:s}=t;this.options={...this.options,...s,debug:this.options.debug,requestIDPrefix:this.options.requestIDPrefix,readyTimeout:this.options.readyTimeout};let i=A(t.requestID,void 0);this.postResponse(i)}else this.postResponse(P(t.requestID,void 0),t=>{e.source.postMessage(t,e.origin)});else this._ready||this.onMessage(e)}catch(e){if(e instanceof TypeError);else throw e}}postFormattedRequest(e,t,s={}){if(!this._ready)throw new q("Receiver is not ready, use `ChannelReceiver.ready()` first");return this.postRequest(this.createRequestMessage(e,t),void 0,s)}};let $={requestIDPrefix:"api-",activeSliceAPI:!1,sliceZoneSizeAPI:!1};var U=class extends j{constructor(e,t){const s=(null==t?void 0:t.debug)||/[?&]debug=true/i.test(decodeURIComponent(window.location.search));if(super({[y.Ping]:(e,t)=>t.success("pong"),...e},{...$,...t,debug:s}),s){var i,r,o;(i=window).prismic||(i.prismic={}),(r=window.prismic).sliceSimulator||(r.sliceSimulator={}),(o=window.prismic.sliceSimulator).api||(o.api=[]),window.prismic.sliceSimulator.api.push(this)}}[v.SetActiveSlice]=async e=>await this.postFormattedRequest(v.SetActiveSlice,e);[v.SetSliceZoneSize]=async e=>await this.postFormattedRequest(v.SetSliceZoneSize,e)},Z=class{state;_api;_initialized;constructor(e){this.state=new f(e),this._api=null,this._initialized=!1}async init(){if(!this._initialized){this._initialized=!0,await this.state.init();try{await this._initAPI()}catch(e){e instanceof Error&&"Receiver is currently not embedded as an iframe"===e.message&&!this.state.slices.length&&(this.state.message=g),console.error(e);return}this._initListeners()}}async _initAPI(){this._api=new U({[y.SetSliceZone]:(e,t)=>(this.state.setSliceZone(e.data),t.success()),[y.ScrollToSlice]:(e,t)=>{var s;if(e.data.sliceIndex<0)return t.error("`sliceIndex` must be > 0",400);if(e.data.sliceIndex>=this.state.slices.length)return t.error(`\`sliceIndex\` must be < ${this.state.slices.length} (\`<SliceZone />\` current length)`,400);let i=h(this.state.slices.length);if(!i)return t.error("Failed to find `<SliceZone />`",500);this.state.activeSlice=null;let r=i.children[e.data.sliceIndex];return r?(r.scrollIntoView({behavior:e.data.behavior,block:e.data.block,inline:e.data.inline}),(null==(s=this._api)?void 0:s.options.activeSliceAPI)&&setTimeout(this.state.setActiveSlice,750),t.success()):t.error("Failed fo find slice at index $`{req.data.sliceIndex}` in `<SliceZone />`",500)}}),await this._api.ready()}_initListeners(){var e,t;if((null==(e=this._api)?void 0:e.options.activeSliceAPI)&&(window.addEventListener("mousemove",()=>{this.state.setActiveSlice()}),window.addEventListener("resize",()=>{this.state.setActiveSlice()}),window.addEventListener("mousewheel",()=>{setTimeout(this.state.setActiveSlice,200)}),this.state.on(c.Slices,()=>{this.state.setActiveSlice()}),this.state.on(c.ActiveSlice,async e=>{if(this._api)try{await this._api.setActiveSlice(e)}catch(e){if(e instanceof w&&400===e.response.status)console.error(e.response);else throw e}})),null==(t=this._api)?void 0:t.options.sliceZoneSizeAPI){let e=new ResizeObserver(d(async e=>{let[t]=e;if(this._api&&t)try{await this._api.setSliceZoneSize({rect:t.contentRect})}catch(e){if(e instanceof w&&400===e.response.status)console.error(e.response);else throw e}},16));new MutationObserver(()=>{let t=document.querySelector(`.${u}`);e.disconnect(),t&&e.observe(t)}).observe(document.querySelector(`.${a}`),{subtree:!1,childList:!0})}}};let z=e=>{e.preventDefault(),e.stopPropagation()},k=e=>{e.path&&e.path.slice(0,5).some(e=>e instanceof HTMLAnchorElement)&&(e.preventDefault(),e.stopPropagation())},L=({className:e,children:t,zIndex:s,background:i,message:r,hasSlices:o})=>{let n=100,c="#ffffff";return(0,l.jsx)("div",{className:[a,e].filter(Boolean).join(" "),style:{zIndex:void 0===s?n:s??void 0,position:"fixed",top:0,left:0,width:"100%",height:"100vh",overflow:"auto",background:void 0===i?c:i??void 0},children:r?(0,l.jsx)("article",{dangerouslySetInnerHTML:{__html:r}}):o?(0,l.jsx)("div",{id:"root",className:u,onClickCapture:k,onSubmitCapture:z,children:t}):null})};var F=e.i(99707),B=e.i(18566),N=e.i(71645);let H="state",J=new Z,K=({children:e,background:t,zIndex:s,className:i})=>{let r,[o,n]=(0,N.useState)(()=>""),a=(0,B.useRouter)(),u=((r="u">typeof window?new URL(window.location.href).searchParams.get(H):void 0)?JSON.parse((0,F.decompressFromEncodedURIComponent)(r)):_()).length>0;return(0,N.useEffect)(()=>(J.state.on(c.Slices,e=>{let t=new URL(window.location.href);t.searchParams.set(H,(0,F.compressToEncodedURIComponent)(JSON.stringify(e))),window.history.replaceState(null,"",t),setTimeout(()=>a.refresh(),0)},"simulator-slices"),J.state.on(c.Message,e=>n(e),"simulator-message"),J.init(),()=>{J.state.off(c.Slices,"simulator-slices"),J.state.off(c.Message,"simulator-message")}),[a]),(0,l.jsx)(L,{message:o,hasSlices:u,background:t,zIndex:s,className:i,children:e})};e.s(["SliceSimulator",()=>K],31729)}]);